<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 视频分析</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.3/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="flex flex-col h-screen font-sans"> <!-- Tailwind: full height, column flex, sans-serif font -->

    <!-- Top Navigation Bar -->
    <header class="bg-blue-600 text-white p-4 shadow-md"> <!-- Tailwind: blue background, white text, padding, shadow -->
        <h1 class="text-lg sm:text-xl">AI 视频/图像分析平台</h1> <!-- Tailwind: large text -->
    </header>

    <!-- Main Content Area -->
    <main class="flex flex-col sm:flex-row flex-1 overflow-hidden"> <!-- Tailwind: flex grow, hide overflow -->

        <!-- Left Control Panel -->
        <aside id="left-panel" class="w-full sm:w-1/4 bg-gray-100 p-4 overflow-y-auto order-1 sm:order-none"> <!-- Tailwind: 1/4 width, light gray bg, padding, vertical scroll -->
            <h2 class="text-lg font-semibold mb-4">控制面板</h2>
            <div id="controls-container">
                <!-- Existing buttons will be moved here later -->
                <button id="startButton" disabled class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mb-2 w-full">启动摄像头</button>
                <button id="stopButton" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded w-full">停止摄像头</button>
            </div>
            <!-- Placeholder for future controls like file input -->
            <div id="file-upload-container" class="mt-4">
                <label for="videoUpload" class="block mb-2 text-sm font-medium text-gray-900">上传视频文件 (MP4, MOV):</label>
                <input type="file" id="videoUpload" accept="video/mp4,video/mov,video/webm" class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none">
            </div>
            <div id="image-upload-container" class="mt-4">
                <label for="imageUpload" class="block mb-2 text-sm font-medium text-gray-900">上传图片文件 (JPG, PNG, WebP):</label>
                <input type="file" id="imageUpload" accept="image/jpeg,image/png,image/webp" multiple class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none">
            </div>
        </aside>

        <!-- Central Video/Image Area -->
        <section id="main-content" class="flex-1 p-2 sm:p-4 flex flex-col items-center justify-center bg-gray-200 order-2 sm:order-none"> <!-- Tailwind: flex grow, padding, center content, medium gray bg -->
            <div id="container" class="relative w-full sm:max-w-3xl aspect-video bg-black"> <!-- Tailwind: relative, full width, max width, aspect ratio for video, black bg -->
                <video id="video" autoplay playsinline class="w-full h-full"></video> <!-- Tailwind: full width and height -->
                <canvas id="canvas" class="absolute top-0 left-0"></canvas> <!-- Tailwind: absolute positioning -->
            </div>
        </section>

        <!-- Right Results Panel -->
        <aside id="right-panel" class="w-full sm:w-1/4 bg-gray-100 p-4 overflow-y-auto order-3 sm:order-none"> <!-- Tailwind: 1/4 width, light gray bg, padding, vertical scroll -->
            <h2 id="image-summary-header" class="text-lg font-semibold mb-2">图片处理结果摘要:</h2> <!-- New Header -->
            <ul id="imageSummaryList" class="space-y-2 mb-4 max-h-48 sm:max-h-60 overflow-y-auto border border-gray-300 p-2 rounded">
                <!-- Image summaries will be populated here by JavaScript -->
            </ul>

            <h2 id="results-header" class="text-lg font-semibold mb-2">当前选中媒体的检测详情:</h2> <!-- Modified Header for clarity -->
            <ul id="objectList" class="space-y-1">
                <!-- Detection details for the currently active media (video, single image, or selected batch image) -->
            </ul>
        </aside>

    </main>

    <script src="script.js"></script>
</body>
</html>
